{"openapi":"3.1.0","info":{"title":"CVITX API","version":"0.1.0"},"paths":{"/workspaces/{workspace_id}/image-analyses/presign":{"post":{"tags":["image-analyses"],"summary":"Presign","operationId":"presign_workspaces__workspace_id__image_analyses_presign_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__routes__analysis_images__PresignIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analyses/commit":{"post":{"tags":["image-analyses"],"summary":"Commit","operationId":"commit_workspaces__workspace_id__image_analyses_commit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommitIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analyses/{analysis_id}/enqueue":{"post":{"tags":["image-analyses"],"summary":"Enqueue","operationId":"enqueue_workspaces__workspace_id__image_analyses__analysis_id__enqueue_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analyses/{analysis_id}":{"get":{"tags":["image-analyses"],"summary":"Show","operationId":"show_workspaces__workspace_id__image_analyses__analysis_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analyses":{"get":{"tags":["image-analyses"],"summary":"List Image Analyses","operationId":"list_image_analyses_workspaces__workspace_id__image_analyses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analysis/presign":{"post":{"tags":["image-analysis"],"summary":"Presign Singular","operationId":"presign_singular_workspaces__workspace_id__image_analysis_presign_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__routes__analysis_images__PresignIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analysis/commit":{"post":{"tags":["image-analysis"],"summary":"Commit Singular","operationId":"commit_singular_workspaces__workspace_id__image_analysis_commit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommitIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analysis/{analysis_id}/enqueue":{"post":{"tags":["image-analysis"],"summary":"Enqueue Singular","operationId":"enqueue_singular_workspaces__workspace_id__image_analysis__analysis_id__enqueue_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analysis/{analysis_id}":{"get":{"tags":["image-analysis"],"summary":"Show Singular","operationId":"show_singular_workspaces__workspace_id__image_analysis__analysis_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/image-analysis":{"get":{"tags":["image-analysis"],"summary":"List Singular","operationId":"list_singular_workspaces__workspace_id__image_analysis_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/uploads/presign":{"post":{"summary":"Presign Upload","operationId":"presign_upload_uploads_presign_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresignReq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/videos/register":{"post":{"summary":"Register Video","operationId":"register_video_videos_register_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterVideoRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/videos/enqueue":{"post":{"summary":"Enqueue Video","operationId":"enqueue_video_videos_enqueue_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnqueueProcessVideo"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/snapshots/enqueue":{"post":{"summary":"Enqueue Snapshot","operationId":"enqueue_snapshot_snapshots_enqueue_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnqueueSnapshot"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/analyze_video":{"post":{"summary":"Analyze Video","operationId":"analyze_video_api_jobs_analyze_video_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/detections":{"get":{"tags":["detections"],"summary":"List Detections","operationId":"list_detections_api_detections_get","parameters":[{"name":"workspace_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Workspace Id"}},{"name":"video_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Video Id"}},{"name":"plate","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Case-insensitive contains match on plate_text","title":"Plate"},"description":"Case-insensitive contains match on plate_text"},{"name":"color","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Color label, e.g. BLACK","title":"Color"},"description":"Color label, e.g. BLACK"},{"name":"min_detected_at","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO-8601 lower bound","title":"Min Detected At"},"description":"ISO-8601 lower bound"},{"name":"max_detected_at","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO-8601 upper bound","title":"Max Detected At"},"description":"ISO-8601 upper bound"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"order","in":"query","required":false,"schema":{"$ref":"#/components/schemas/Order","default":"detected_at_desc"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/detections/{det_id}":{"get":{"tags":["detections"],"summary":"Get Detection","operationId":"get_detection_api_detections__det_id__get","parameters":[{"name":"det_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Det Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectionDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/exports/detections.csv":{"get":{"tags":["exports"],"summary":"Export Detections Csv","operationId":"export_detections_csv_api_exports_detections_csv_get","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"video_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Video Id"}},{"name":"min_detected_at","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Min Detected At"}},{"name":"max_detected_at","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Max Detected At"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/{video_id}/status":{"get":{"tags":["videos"],"summary":"Video Status","operationId":"video_status_api_videos__video_id__status_get","parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Video Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/avatar/presign":{"post":{"tags":["users"],"summary":"Presign Avatar Upload","operationId":"presign_avatar_upload_users_me_avatar_presign_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresignOut"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/me/avatar/commit":{"post":{"tags":["users"],"summary":"Commit Avatar","operationId":"commit_avatar_users_me_avatar_commit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"query","required":true,"schema":{"type":"string","title":"Key"}},{"name":"content_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type"}},{"name":"size_bytes","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size Bytes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/avatar/url":{"get":{"tags":["users"],"summary":"Get Avatar Url","operationId":"get_avatar_url_users_me_avatar_url_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"download","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Download"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UrlOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/avatar":{"delete":{"tags":["users"],"summary":"Delete Avatar","operationId":"delete_avatar_users_me_avatar_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/users/me/workspaces":{"get":{"tags":["users"],"summary":"List My Workspaces","operationId":"list_my_workspaces_users_me_workspaces_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/users/me":{"get":{"tags":["users"],"summary":"Get Me","operationId":"get_me_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserMe"}}}}},"security":[{"HTTPBearer":[]}]}},"/workspaces/{workspace_id}/files/presign":{"post":{"tags":["workspaces-files"],"summary":"Presign Workspace Upload","operationId":"presign_workspace_upload_workspaces__workspace_id__files_presign_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__routes__workspace_files__PresignIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresignOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/files/commit":{"post":{"tags":["workspaces-files"],"summary":"Commit Workspace File","operationId":"commit_workspace_file_workspaces__workspace_id__files_commit_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"key","in":"query","required":true,"schema":{"type":"string","title":"Key"}},{"name":"content_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Type"}},{"name":"size_bytes","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size Bytes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/files":{"get":{"tags":["workspaces-files"],"summary":"List Workspace Files","operationId":"list_workspace_files_workspaces__workspace_id__files_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/files/{file_id}/url":{"get":{"tags":["workspaces-files"],"summary":"Get Workspace File Url","operationId":"get_workspace_file_url_workspaces__workspace_id__files__file_id__url_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"file_id","in":"path","required":true,"schema":{"type":"string","title":"File Id"}},{"name":"download","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Download"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/files/{file_id}":{"delete":{"tags":["workspaces-files"],"summary":"Delete Workspace File","operationId":"delete_workspace_file_workspaces__workspace_id__files__file_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"file_id","in":"path","required":true,"schema":{"type":"string","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginIn"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["auth","auth"],"summary":"Auth Me","operationId":"auth_me_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/workspaces":{"get":{"tags":["workspaces"],"summary":"List Workspaces","operationId":"list_workspaces_workspaces_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/WsOut"},"type":"array","title":"Response List Workspaces Workspaces Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["workspaces"],"summary":"Create Workspace","operationId":"create_workspace_workspaces_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WsCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WsOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/workspaces/{workspace_id}":{"get":{"tags":["workspaces"],"summary":"Get Workspace","operationId":"get_workspace_workspaces__workspace_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WsOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["workspaces"],"summary":"Update Workspace","operationId":"update_workspace_workspaces__workspace_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WsPatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WsOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["workspaces"],"summary":"Delete Workspace","operationId":"delete_workspace_workspaces__workspace_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/videos":{"get":{"tags":["videos"],"summary":"List Videos","operationId":"list_videos_workspaces__workspace_id__videos_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoOut"},"title":"Response List Videos Workspaces  Workspace Id  Videos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["videos"],"summary":"Create Video","operationId":"create_video_workspaces__workspace_id__videos_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/videos/{video_id}":{"get":{"tags":["videos"],"summary":"Get Video","operationId":"get_video_workspaces__workspace_id__videos__video_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["videos"],"summary":"Edit Video","operationId":"edit_video_workspaces__workspace_id__videos__video_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoPatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["videos"],"summary":"Delete Video","operationId":"delete_video_workspaces__workspace_id__videos__video_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/videos/{video_id}/enqueue":{"post":{"tags":["videos"],"summary":"Enqueue Video","operationId":"enqueue_video_workspaces__workspace_id__videos__video_id__enqueue_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/videos/{video_id}/url":{"get":{"tags":["videos"],"summary":"Get Video Stream Url","description":"Returns a short-lived presigned GET URL for the video's s3_key_raw so the frontend\ncan play it directly in a <video> tag (with Range support, assuming S3 CORS is set).","operationId":"get_video_stream_url_workspaces__workspace_id__videos__video_id__url_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"video_id","in":"path","required":true,"schema":{"type":"string","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyses/{analysis_id}":{"get":{"summary":"Consolidated Show","operationId":"consolidated_show_analyses__analysis_id__get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"presign","in":"query","required":false,"schema":{"type":"integer","maximum":1,"minimum":0,"default":1,"title":"Presign"}},{"name":"ttl","in":"query","required":false,"schema":{"type":"integer","maximum":86400,"minimum":60,"default":3600,"title":"Ttl"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AnalyzeBody":{"properties":{"video_id":{"type":"string","format":"uuid","title":"Video Id"},"workspace_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Workspace Code"}},"type":"object","required":["video_id"],"title":"AnalyzeBody"},"CommitIn":{"properties":{"key":{"type":"string","title":"Key"},"content_type":{"type":"string","title":"Content Type"},"size_bytes":{"type":"integer","title":"Size Bytes"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["key","content_type","size_bytes"],"title":"CommitIn"},"DetectionDetail":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"display_id":{"type":"string","title":"Display Id"},"snapshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Snapshot Url"},"plate_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plate Url"},"plate_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plate Text"},"yolo_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Yolo Type"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"type_conf":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Type Conf"},"make":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Make"},"make_conf":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Make Conf"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"model_conf":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Model Conf"},"parts":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Parts"},"colors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Colors"},"recorded_at":{"type":"string","format":"date-time","title":"Recorded At"},"detected_in_ms":{"type":"integer","title":"Detected In Ms"},"detected_at":{"type":"string","format":"date-time","title":"Detected At"},"abstain":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Abstain"},"abstain_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstain Level"},"abstain_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstain Reason"},"thresholds":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Thresholds"},"evidence":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Evidence"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","required":["id","display_id","recorded_at","detected_in_ms","detected_at"],"title":"DetectionDetail"},"DetectionListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/DetectionSummary"},"type":"array","title":"Items"},"pagination":{"$ref":"#/components/schemas/PaginationMeta"}},"type":"object","required":["items","pagination"],"title":"DetectionListResponse"},"DetectionSummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"display_id":{"type":"string","title":"Display Id"},"snapshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Snapshot Url"},"plate_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plate Url"},"plate_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plate Text"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"make":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Make"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"type_conf":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Type Conf"},"make_conf":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Make Conf"},"model_conf":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Model Conf"},"colors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Colors"},"recorded_at":{"type":"string","format":"date-time","title":"Recorded At"},"detected_in_ms":{"type":"integer","title":"Detected In Ms"},"detected_at":{"type":"string","format":"date-time","title":"Detected At"}},"type":"object","required":["id","display_id","recorded_at","detected_in_ms","detected_at"],"title":"DetectionSummary"},"EnqueueProcessVideo":{"properties":{"video_id":{"type":"string","format":"uuid","title":"Video Id"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"},"workspace_code":{"type":"string","title":"Workspace Code"},"camera_code":{"type":"string","title":"Camera Code"},"s3_key_raw":{"type":"string","title":"S3 Key Raw"},"frame_stride":{"type":"integer","title":"Frame Stride","default":3},"recordedAt":{"type":"string","format":"date-time","title":"Recordedat"}},"type":"object","required":["video_id","workspace_id","workspace_code","camera_code","s3_key_raw","recordedAt"],"title":"EnqueueProcessVideo"},"EnqueueSnapshot":{"properties":{"video_id":{"type":"string","format":"uuid","title":"Video Id"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"},"workspace_code":{"type":"string","title":"Workspace Code"},"camera_code":{"type":"string","title":"Camera Code"},"s3_key_raw":{"type":"string","title":"S3 Key Raw"},"recordedAt":{"type":"string","format":"date-time","title":"Recordedat"}},"type":"object","required":["video_id","workspace_id","workspace_code","camera_code","s3_key_raw","recordedAt"],"title":"EnqueueSnapshot"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginIn":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginIn"},"LoginOut":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"additionalProperties":true,"type":"object","title":"User"}},"type":"object","required":["access_token","user"],"title":"LoginOut"},"Order":{"type":"string","enum":["detected_at_desc","detected_at_asc"],"title":"Order"},"PaginationMeta":{"properties":{"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"},"total":{"type":"integer","title":"Total"},"next_offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Next Offset"},"order":{"$ref":"#/components/schemas/Order"}},"type":"object","required":["limit","offset","total","order"],"title":"PaginationMeta"},"PresignOut":{"properties":{"key":{"type":"string","title":"Key"},"url":{"type":"string","title":"Url"}},"type":"object","required":["key","url"],"title":"PresignOut"},"PresignReq":{"properties":{"workspace_id":{"type":"string","title":"Workspace Id"},"file_name":{"type":"string","title":"File Name"}},"type":"object","required":["workspace_id","file_name"],"title":"PresignReq"},"RegisterVideoRequest":{"properties":{"video_id":{"type":"string","format":"uuid","title":"Video Id"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"},"file_name":{"type":"string","title":"File Name"},"camera_label":{"type":"string","title":"Camera Label"},"camera_code":{"type":"string","title":"Camera Code"},"s3_key_raw":{"type":"string","title":"S3 Key Raw"},"recordedAt":{"type":"string","format":"date-time","title":"Recordedat"}},"type":"object","required":["video_id","workspace_id","file_name","camera_label","camera_code","s3_key_raw","recordedAt"],"title":"RegisterVideoRequest"},"UrlOut":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},"type":"object","required":["url"],"title":"UrlOut"},"UserMe":{"properties":{"id":{"type":"string","title":"Id"},"email":{"type":"string","title":"Email"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"affiliation_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Affiliation Name"},"role":{"type":"string","title":"Role"},"is_active":{"type":"boolean","title":"Is Active"},"force_password_reset":{"type":"boolean","title":"Force Password Reset"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"avatar_s3_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar S3 Key"}},"type":"object","required":["id","email","role","is_active","force_password_reset","created_at","updated_at"],"title":"UserMe"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoCreate":{"properties":{"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"camera_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Label"},"camera_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Code"},"recorded_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Recorded At"},"s3_key_raw":{"type":"string","title":"S3 Key Raw"},"frame_stride":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Frame Stride","default":3}},"type":"object","required":["s3_key_raw"],"title":"VideoCreate"},"VideoOut":{"properties":{"id":{"type":"string","title":"Id"},"workspace_id":{"type":"string","title":"Workspace Id"},"workspace_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Workspace Code"},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"camera_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Label"},"camera_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Code"},"s3_key_raw":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Key Raw"},"frame_stride":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Frame Stride"},"status":{"type":"string","title":"Status"},"error_msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Msg"},"recorded_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Recorded At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"processing_started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processing Started At"},"processing_finished_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processing Finished At"}},"type":"object","required":["id","workspace_id","status","updated_at"],"title":"VideoOut"},"VideoPatch":{"properties":{"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"camera_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Label"},"recorded_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Recorded At"}},"type":"object","title":"VideoPatch"},"WsCreate":{"properties":{"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"WsCreate"},"WsOut":{"properties":{"id":{"type":"string","title":"Id"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id"],"title":"WsOut"},"WsPatch":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"}},"type":"object","title":"WsPatch"},"app__routes__analysis_images__PresignIn":{"properties":{"filename":{"type":"string","title":"Filename"},"content_type":{"type":"string","title":"Content Type"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["filename","content_type"],"title":"PresignIn"},"app__routes__workspace_files__PresignIn":{"properties":{"filename":{"type":"string","title":"Filename"},"content_type":{"type":"string","title":"Content Type"}},"type":"object","required":["filename","content_type"],"title":"PresignIn"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}